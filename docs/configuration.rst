.. author: Alan Chen

Configuration
=============

After installation, you should have a clean copy of Findmyreviewers shipped with
demo databases and trained models.

The following configurations allow you to use your own databases and models.

Databases and Models
--------------------

There are two kinds of databases used in Findmyreveiwers, both of which are in
sqlite format:

1. Web App Database. It is used to store users, results and other
   miscellaneous informations.
2. Paper Databases. These databases are used for matching reviewers,
   both for keyword-based algorithm and LDA models.

Web App Database
~~~~~~~~~~~~~~~~

In most cases, you should not worry about this, as it has nothing to do with the
model.

This database will be automatically generated upon the first run.

In particular, it will appear as ``data-dev.sqlite`` in the project root
directory.

Paper Databases
~~~~~~~~~~~~~~~

Besides the database used by the web app, our more important databases
are those who store information about papers and authors.

Keyword-based Databases
^^^^^^^^^^^^^^^^^^^^^^^

To load your own database, you should define the name of the database
and the file name of the database in ``keyword_dbs.env``.

If your ``keyword_dbs.env`` looks like:

::

    Financial Times 50=fintime50
    Association of Information System=aisnet

Then, Findmyreviewers will automatically find ``fintime50.sqlite`` and
``aisnet.sqlite`` under the ``databases`` directory.

LDA Models
~~~~~~~~~~

A working LDA model is composed with the following components:

1. Trained LDA model (``.ldamodel`` file and its companions) generated
   by ``gensim``.
2. Author profile vector library. (a pickle file ``.ldamodel.pkl`` that
   stores the LDA topics profile of each authors in the database).
3. Corresponding paper database.

Trained LDA model
^^^^^^^^^^^^^^^^^

To load your pre-trained LDA models, specify your models in
``lda_models.env``.

The ``lda_models.env`` file should look like:

::

    Financial Times Top 50 (300)=fintime50_300.ldamodel
    Association of Information System (300)=aisnet_300.ldamodel
    Association of Information System (500)=aisnet_500.ldamodel

(The number in the bracket indicates the number of topics in the model.
It is not a required syntax.)

Findmyreviwers will load ``fintime50_300.ldamodel``,
``aisnet_300.ldamodel`` and ``aisnet_500.ldamodel`` under the
``trained`` directory.

For each ``.ldamodel`` file, it should have the following companions:

::

    aisnet_300.ldamodel
    aisnet_300.ldamodel.dictionary
    aisnet_300.ldamodel.state
    aisnet_300.ldamodel.expElogbeta.npy
    aisnet_300.ldamodel.state.sstats.npy
    aisnet_300.ldamodel.id2word

which are automatically generated by ``gensim`` . In addition, you will also need
a corresponding :ref:`Paper Database`.

Author Profile Vector Library
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

You will also need your generated author's profile vector library
``aisnet_300.ldamodel.json``. Please refer the revelent section for more details
about this pickle file.

Paper Database
^^^^^^^^^^^^^^

The LDA model also relies on a paper database to give details of the
matching results. Findmyreviwers will automatically find the database in
the ``databases`` directory.

For example, the model ``fintime50_300.ldamodel`` will correspond to
``fintime50_300.sqlite`` in the ``databases``
directory.

The database shares exactly the same schema with paper databases that
are used for keyword-based algorithm.

Auth0 For User Authentication
-----------------------------

By default, in the  ``config.py`` the option ``ALLOW_ANON`` is enabled. It will
allow any users to visit the dashboard anonymously, and they all share the same
account. It is intended for development and ad hoc.

However, in production, we highly recommend disabling ``ALLOW_ANON`` and
configure Auth0.

We use Auth0 to be our authentication system. You will need a free
account at Auth0.com and define the followings in ``auth0.env``.

::

    client_id=A9GoeDXxltXAM6**************
    client_secret=Luy237Lj2iR-PKXQNNEDhPxZWECKn13ii-*******************
    base_uri=http://127.0.0.1:5000
